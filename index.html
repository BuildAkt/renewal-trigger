<!DOCTYPE html>
<html>
<head>
    <title>Renewal Request Received</title>
    <script>
        window.onload = async function () {
            const urlParams = new URLSearchParams(window.location.search);
            const contactid = urlParams.get('contactid');

            if (contactid) {
                try {
                    const response = await fetch("https://065e9e079c79edf2ba21abfda1c486.a8.environment.api.powerplatform.com:443/powerautomate/automations/direct/workflows/2280ce2f568a4208b476acf3779c4b1f/triggers/manual/paths/invoke/?api-version=1&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=y317qUfOUAJOKmKCXccCJdNd-8gwJG5r90ujMruCsO4", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify({ contactid })
                    });

                    if (!response.ok) {
                        console.error("Error from Power Automate:", await response.text());
                    }
                } catch (e) {
                    console.error("Fetch error:", e);
                }
            } else {
                console.error("No contactid found in URL.");
            }
        };
    </script>
</head>
<body>
    <h2>Your request has been received.</h2>
    <p>We will follow up with a quote shortly.</p>
</body>
</html>
